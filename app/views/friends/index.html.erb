<h1>Friends List</h1>

<table class="table table-striped table-bordered table-sm table-hover">
  <thead class="table-dark">
    <tr>
      <th>#</th>
      <th> First Name </th>
      <th> Last Name </th>
      <th> Email </th>
      <th> Phone </th>
      <th> User ID </th>
      <th colspan="5"></th>
    </tr>
  </thead>
  <tbody>
    <% user_friend_count = Hash.new(0) %>
      <% @friends.each_with_index do |friend, index| %>
        <% if friend.user == current_user %>
          <% user_friend_count[friend.user_id] +=1 %>
            <tr>
               <td><%= user_friend_count[friend.user_id] %></td>
               <td><%= friend.first_name %></td>
               <td><%= friend.last_name %></td>
               <td><%= friend.email %></td>
               <td><%= friend.phone %></td>
               <td><%= friend.user_id %></td>
               <td><%= link_to "Show", friend %></td>
               <td><%= link_to "Edit", edit_friend_path(friend) %></td>
               <td><%= button_to "Destroy", friend, method: :delete %> </td>
            </tr>
        <% end %>
      <% end %>
  </tbody>
</table>
<br></br>

<% if user_signed_in? %>
<%= link_to "New friend", new_friend_path, class:"btn btn-secondary" %>
<% end %>